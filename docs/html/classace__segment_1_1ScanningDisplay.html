<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AceSegment: ace_segment::ScanningDisplay&lt; HW, LM, DIGITS, SUBFIELDS &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AceSegment
   &#160;<span id="projectnumber">0.4.0</span>
   </div>
   <div id="projectbrief">An adjustable, configurable, and extensible framework for rendering seven segment LED displays.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>ace_segment</b></li><li class="navelem"><a class="el" href="classace__segment_1_1ScanningDisplay.html">ScanningDisplay</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classace__segment_1_1ScanningDisplay-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ace_segment::ScanningDisplay&lt; HW, LM, DIGITS, SUBFIELDS &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An implementation of <code><a class="el" href="classace__segment_1_1LedDisplay.html" title="General interface for writing LED segment patterns to the LED display module.">LedDisplay</a></code> for display modules which do not have hardware controller chips, so they require the microcontroller to perform the multiplexed scanning across the digits.  
 <a href="classace__segment_1_1ScanningDisplay.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ace_segment::ScanningDisplay&lt; HW, LM, DIGITS, SUBFIELDS &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classace__segment_1_1ScanningDisplay__inherit__graph.png" border="0" usemap="#ace__segment_1_1ScanningDisplay_3_01HW_00_01LM_00_01DIGITS_00_01SUBFIELDS_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="ace__segment_1_1ScanningDisplay_3_01HW_00_01LM_00_01DIGITS_00_01SUBFIELDS_01_4_inherit__map" id="ace__segment_1_1ScanningDisplay_3_01HW_00_01LM_00_01DIGITS_00_01SUBFIELDS_01_4_inherit__map">
<area shape="rect" title="An implementation of LedDisplay for display modules which do not have hardware controller chips,..." alt="" coords="5,80,240,121"/>
<area shape="rect" href="classace__segment_1_1LedDisplay.html" title="General interface for writing LED segment patterns to the LED display module." alt="" coords="28,5,217,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ace_segment::ScanningDisplay&lt; HW, LM, DIGITS, SUBFIELDS &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classace__segment_1_1ScanningDisplay__coll__graph.png" border="0" usemap="#ace__segment_1_1ScanningDisplay_3_01HW_00_01LM_00_01DIGITS_00_01SUBFIELDS_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="ace__segment_1_1ScanningDisplay_3_01HW_00_01LM_00_01DIGITS_00_01SUBFIELDS_01_4_coll__map" id="ace__segment_1_1ScanningDisplay_3_01HW_00_01LM_00_01DIGITS_00_01SUBFIELDS_01_4_coll__map">
<area shape="rect" title="An implementation of LedDisplay for display modules which do not have hardware controller chips,..." alt="" coords="5,80,240,121"/>
<area shape="rect" href="classace__segment_1_1LedDisplay.html" title="General interface for writing LED segment patterns to the LED display module." alt="" coords="28,5,217,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a305f5f73be623475ad4d8d39c0a780d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a305f5f73be623475ad4d8d39c0a780d0">ScanningDisplay</a> (const HW &amp;hardware, const LM &amp;ledMatrix, uint8_t framesPerSecond)</td></tr>
<tr class="memdesc:a305f5f73be623475ad4d8d39c0a780d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classace__segment_1_1ScanningDisplay.html#a305f5f73be623475ad4d8d39c0a780d0">More...</a><br /></td></tr>
<tr class="separator:a305f5f73be623475ad4d8d39c0a780d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0461b26beb5510849d12f114da77c07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#ae0461b26beb5510849d12f114da77c07">begin</a> ()</td></tr>
<tr class="memdesc:ae0461b26beb5510849d12f114da77c07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the driver with the parameters given by in the constructor.  <a href="classace__segment_1_1ScanningDisplay.html#ae0461b26beb5510849d12f114da77c07">More...</a><br /></td></tr>
<tr class="separator:ae0461b26beb5510849d12f114da77c07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23ecfd1e45e8c3a1d6f2c1634d9223bf"><td class="memItemLeft" align="right" valign="top"><a id="a23ecfd1e45e8c3a1d6f2c1634d9223bf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a23ecfd1e45e8c3a1d6f2c1634d9223bf">end</a> ()</td></tr>
<tr class="memdesc:a23ecfd1e45e8c3a1d6f2c1634d9223bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">A no-op <a class="el" href="classace__segment_1_1ScanningDisplay.html#a23ecfd1e45e8c3a1d6f2c1634d9223bf" title="A no-op end() function for consistency with other classes.">end()</a> function for consistency with other classes. <br /></td></tr>
<tr class="separator:a23ecfd1e45e8c3a1d6f2c1634d9223bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a949b1944965cf0751ff85a398df4e8db"><td class="memItemLeft" align="right" valign="top"><a id="a949b1944965cf0751ff85a398df4e8db"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a949b1944965cf0751ff85a398df4e8db">getNumDigits</a> () const</td></tr>
<tr class="memdesc:a949b1944965cf0751ff85a398df4e8db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of digits. <br /></td></tr>
<tr class="separator:a949b1944965cf0751ff85a398df4e8db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0debd78bbf4fa97327c8e4c0166c3cb5"><td class="memItemLeft" align="right" valign="top"><a id="a0debd78bbf4fa97327c8e4c0166c3cb5"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a0debd78bbf4fa97327c8e4c0166c3cb5">getFramesPerSecond</a> () const</td></tr>
<tr class="memdesc:a0debd78bbf4fa97327c8e4c0166c3cb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the requested frames per second. <br /></td></tr>
<tr class="separator:a0debd78bbf4fa97327c8e4c0166c3cb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa21e88f28f9544fa6fa9aab13475dd0a"><td class="memItemLeft" align="right" valign="top"><a id="aa21e88f28f9544fa6fa9aab13475dd0a"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#aa21e88f28f9544fa6fa9aab13475dd0a">getFieldsPerSecond</a> () const</td></tr>
<tr class="memdesc:aa21e88f28f9544fa6fa9aab13475dd0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the fields per second. <br /></td></tr>
<tr class="separator:aa21e88f28f9544fa6fa9aab13475dd0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989b0087fdb591f4e35ae15317067d2a"><td class="memItemLeft" align="right" valign="top"><a id="a989b0087fdb591f4e35ae15317067d2a"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a989b0087fdb591f4e35ae15317067d2a">getFieldsPerFrame</a> () const</td></tr>
<tr class="memdesc:a989b0087fdb591f4e35ae15317067d2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total fields per frame across all digits. <br /></td></tr>
<tr class="separator:a989b0087fdb591f4e35ae15317067d2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43d69c95d835d9b02c0f7e80064f7fe2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a43d69c95d835d9b02c0f7e80064f7fe2">writePatternAt</a> (uint8_t pos, uint8_t pattern) override</td></tr>
<tr class="memdesc:a43d69c95d835d9b02c0f7e80064f7fe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the pattern for a given pos.  <a href="classace__segment_1_1ScanningDisplay.html#a43d69c95d835d9b02c0f7e80064f7fe2">More...</a><br /></td></tr>
<tr class="separator:a43d69c95d835d9b02c0f7e80064f7fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d79c60fcd579e24d20d662979bc6d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a09d79c60fcd579e24d20d662979bc6d0">writePatternsAt</a> (uint8_t pos, const uint8_t patterns[], uint8_t len) override</td></tr>
<tr class="memdesc:a09d79c60fcd579e24d20d662979bc6d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the array of <code>patterns</code> of length <code>len</code>, starting at <code>pos</code>.  <a href="classace__segment_1_1ScanningDisplay.html#a09d79c60fcd579e24d20d662979bc6d0">More...</a><br /></td></tr>
<tr class="separator:a09d79c60fcd579e24d20d662979bc6d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e3b78e1e8fd020958ee2deb177fef6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a50e3b78e1e8fd020958ee2deb177fef6">writePatternsAt_P</a> (uint8_t pos, const uint8_t patterns[], uint8_t len) override</td></tr>
<tr class="memdesc:a50e3b78e1e8fd020958ee2deb177fef6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the array of <code>patterns</code> of length <code>len</code>, which are stored in flash memory through PROGMEM, starting at <code>pos</code>.  <a href="classace__segment_1_1ScanningDisplay.html#a50e3b78e1e8fd020958ee2deb177fef6">More...</a><br /></td></tr>
<tr class="separator:a50e3b78e1e8fd020958ee2deb177fef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7057d9e7cc8dc489fd7d2599441efba7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a7057d9e7cc8dc489fd7d2599441efba7">setBrightnessAt</a> (uint8_t pos, uint8_t brightness) override</td></tr>
<tr class="separator:a7057d9e7cc8dc489fd7d2599441efba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb67a747588d5e77be374e543f5e148a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#acb67a747588d5e77be374e543f5e148a">writeDecimalPointAt</a> (uint8_t pos, bool state=true) override</td></tr>
<tr class="memdesc:acb67a747588d5e77be374e543f5e148a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the decimal point for the pos.  <a href="classace__segment_1_1ScanningDisplay.html#acb67a747588d5e77be374e543f5e148a">More...</a><br /></td></tr>
<tr class="separator:acb67a747588d5e77be374e543f5e148a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b9707f89d323d481feea9ae94d6029"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a51b9707f89d323d481feea9ae94d6029">setGlobalBrightness</a> (uint8_t brightness) override</td></tr>
<tr class="separator:a51b9707f89d323d481feea9ae94d6029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc5ca0a1a9b1b42f353769fc33d6973"><td class="memItemLeft" align="right" valign="top"><a id="a3dc5ca0a1a9b1b42f353769fc33d6973"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a3dc5ca0a1a9b1b42f353769fc33d6973">clear</a> () override</td></tr>
<tr class="memdesc:a3dc5ca0a1a9b1b42f353769fc33d6973"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all digits to blank pattern. <br /></td></tr>
<tr class="separator:a3dc5ca0a1a9b1b42f353769fc33d6973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60936c942b1171380fb69fb796082932"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a60936c942b1171380fb69fb796082932">renderFieldWhenReady</a> ()</td></tr>
<tr class="memdesc:a60936c942b1171380fb69fb796082932"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display one field of a frame when the time is right.  <a href="classace__segment_1_1ScanningDisplay.html#a60936c942b1171380fb69fb796082932">More...</a><br /></td></tr>
<tr class="separator:a60936c942b1171380fb69fb796082932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c8935aa8e324232121e0347eac05e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a48c8935aa8e324232121e0347eac05e5">renderFieldNow</a> ()</td></tr>
<tr class="memdesc:a48c8935aa8e324232121e0347eac05e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Render the current field immediately.  <a href="classace__segment_1_1ScanningDisplay.html#a48c8935aa8e324232121e0347eac05e5">More...</a><br /></td></tr>
<tr class="separator:a48c8935aa8e324232121e0347eac05e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af00d6c084cded6d3161806f5fa577260"><td class="memItemLeft" align="right" valign="top"><a id="af00d6c084cded6d3161806f5fa577260"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#af00d6c084cded6d3161806f5fa577260">prepareToSleep</a> ()</td></tr>
<tr class="memdesc:af00d6c084cded6d3161806f5fa577260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare to go to sleep by clearing the frame, and setting a flag so that it doesn't turn itself back on through an interrupt. <br /></td></tr>
<tr class="separator:af00d6c084cded6d3161806f5fa577260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf21f6ef4a68b400b3e2c3130443635"><td class="memItemLeft" align="right" valign="top"><a id="a5cf21f6ef4a68b400b3e2c3130443635"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1ScanningDisplay.html#a5cf21f6ef4a68b400b3e2c3130443635">wakeFromSleep</a> ()</td></tr>
<tr class="memdesc:a5cf21f6ef4a68b400b3e2c3130443635"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake up from sleep. <br /></td></tr>
<tr class="separator:a5cf21f6ef4a68b400b3e2c3130443635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classace__segment_1_1LedDisplay"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classace__segment_1_1LedDisplay')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classace__segment_1_1LedDisplay.html">ace_segment::LedDisplay</a></td></tr>
<tr class="memitem:aa21840cb1ceb80e579ff14d8b7728dd5 inherit pub_methods_classace__segment_1_1LedDisplay"><td class="memItemLeft" align="right" valign="top"><a id="aa21840cb1ceb80e579ff14d8b7728dd5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>LedDisplay</b> (uint8_t numDigits)</td></tr>
<tr class="separator:aa21840cb1ceb80e579ff14d8b7728dd5 inherit pub_methods_classace__segment_1_1LedDisplay"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aef98e79c8f2b95d93938c8d4d4fcc8 inherit pub_methods_classace__segment_1_1LedDisplay"><td class="memItemLeft" align="right" valign="top"><a id="a9aef98e79c8f2b95d93938c8d4d4fcc8"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classace__segment_1_1LedDisplay.html#a9aef98e79c8f2b95d93938c8d4d4fcc8">getNumDigits</a> () const</td></tr>
<tr class="memdesc:a9aef98e79c8f2b95d93938c8d4d4fcc8 inherit pub_methods_classace__segment_1_1LedDisplay"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of digits supported by this display instance. <br /></td></tr>
<tr class="separator:a9aef98e79c8f2b95d93938c8d4d4fcc8 inherit pub_methods_classace__segment_1_1LedDisplay"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ab27e7759beb8365020be0532b921f299"><td class="memItemLeft" align="right" valign="top"><a id="ab27e7759beb8365020be0532b921f299"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>::ScanningDisplayTest_displayCurrentField</b></td></tr>
<tr class="separator:ab27e7759beb8365020be0532b921f299"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename HW, typename LM, uint8_t DIGITS, uint8_t SUBFIELDS = 1&gt;<br />
class ace_segment::ScanningDisplay&lt; HW, LM, DIGITS, SUBFIELDS &gt;</h3>

<p>An implementation of <code><a class="el" href="classace__segment_1_1LedDisplay.html" title="General interface for writing LED segment patterns to the LED display module.">LedDisplay</a></code> for display modules which do not have hardware controller chips, so they require the microcontroller to perform the multiplexed scanning across the digits. </p>
<p>The matrix wiring of the segment and digit pins allow only a single digit to be turned on at any given time, so multiplexing across all the digits quickly (e.g. 60 Hz) gives the appearance of activating all the digits at the same time. For LED modules with a hardware controller (e.g. TM1637), the controller chip performs the multiplexing. Note that a 74HC595 Shift Register chip does <em>not</em> perform the multiplexing, it only provides a conversion from serial to parallel output.</p>
<p>This class depends on one of the implementations of the <code><a class="el" href="classace__segment_1_1LedMatrixBase.html" title="Class that represents the abstraction of a particular LED display wiring, and knows how to turn off a...">LedMatrixBase</a></code> class to multiplex the LED segments on the digits, and potentially one of the of <code><a class="el" href="classace__segment_1_1SwSpiAdapter.html" title="Software SPI using shiftOut().">SwSpiAdapter</a></code> or <code><a class="el" href="classace__segment_1_1HwSpiAdapter.html" title="Hardware SPI.">HwSpiAdapter</a></code> classes if a 74HC595 shift register chip is used.</p>
<p>A frame is divided into fields. A field is a partial rendering of a frame. Normally, the one digit corresponds to one field. However if brightness control is enabled by setting <code>SUBFIELDS &gt; 1</code>, then a single digit will be rendered for SUBFIELDS number of times so that the brightness of the digit will be controlled by PWM.</p>
<p>There are 2 ways to get the expected number of frames per second:</p>
<p>1) Call the <a class="el" href="classace__segment_1_1ScanningDisplay.html#a48c8935aa8e324232121e0347eac05e5" title="Render the current field immediately.">renderFieldNow()</a> in an ISR, or 2) Call <a class="el" href="classace__segment_1_1ScanningDisplay.html#a60936c942b1171380fb69fb796082932" title="Display one field of a frame when the time is right.">renderFieldWhenReady()</a> polling method repeatedly from the global loop(), and an internal timing parameter will trigger a <a class="el" href="classace__segment_1_1ScanningDisplay.html#a48c8935aa8e324232121e0347eac05e5" title="Render the current field immediately.">renderFieldNow()</a> at the appropriate time.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">HW</td><td>class that provides access to hardware pins and timing functions </td></tr>
    <tr><td class="paramname">LM</td><td><a class="el" href="classace__segment_1_1LedMatrixBase.html" title="Class that represents the abstraction of a particular LED display wiring, and knows how to turn off a...">LedMatrixBase</a> class that provides access to LED segments (elements) organized by digit (group) </td></tr>
    <tr><td class="paramname">DIGITS</td><td>number of LED digits </td></tr>
    <tr><td class="paramname">SUBFIELDS</td><td>number of subfields for each digit to get brightness control using PWM. The default is 1, but can be set to greater than 1 to get brightness control. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ScanningDisplay_8h_source.html#l00075">75</a> of file <a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a305f5f73be623475ad4d8d39c0a780d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a305f5f73be623475ad4d8d39c0a780d0">&#9670;&nbsp;</a></span>ScanningDisplay()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename HW , typename LM , uint8_t DIGITS, uint8_t SUBFIELDS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classace__segment_1_1ScanningDisplay.html">ace_segment::ScanningDisplay</a>&lt; HW, LM, DIGITS, SUBFIELDS &gt;::<a class="el" href="classace__segment_1_1ScanningDisplay.html">ScanningDisplay</a> </td>
          <td>(</td>
          <td class="paramtype">const HW &amp;&#160;</td>
          <td class="paramname"><em>hardware</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const LM &amp;&#160;</td>
          <td class="paramname"><em>ledMatrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>framesPerSecond</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hardware</td><td>pointer to an instance of <a class="el" href="classace__segment_1_1Hardware.html" title="Class that provides a layer of indirection to various hardware pins and timing class.">Hardware</a>. Required. </td></tr>
    <tr><td class="paramname">ledMatrix</td><td>instance of <a class="el" href="classace__segment_1_1LedMatrixBase.html" title="Class that represents the abstraction of a particular LED display wiring, and knows how to turn off a...">LedMatrixBase</a> that understanding the wiring </td></tr>
    <tr><td class="paramname">framesPerSecond</td><td>the rate at which all digits of the LED display will be refreshed </td></tr>
    <tr><td class="paramname">numDigits</td><td>number of digits in the LED display </td></tr>
    <tr><td class="paramname">patterns</td><td>array of segment pattern per digit, not nullable </td></tr>
    <tr><td class="paramname">brightnesses</td><td>array of brightness for each digit (default: nullptr) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="ScanningDisplay_8h_source.html#l00089">89</a> of file <a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae0461b26beb5510849d12f114da77c07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0461b26beb5510849d12f114da77c07">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename HW , typename LM , uint8_t DIGITS, uint8_t SUBFIELDS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classace__segment_1_1ScanningDisplay.html">ace_segment::ScanningDisplay</a>&lt; HW, LM, DIGITS, SUBFIELDS &gt;::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Configure the driver with the parameters given by in the constructor. </p>
<p>Normally, this should be called only once after construction. Unit tests will sometimes change a parameter of FakeDriver and call this a second time. </p>

<p class="definition">Definition at line <a class="el" href="ScanningDisplay_8h_source.html#l00106">106</a> of file <a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>.</p>

</div>
</div>
<a id="a48c8935aa8e324232121e0347eac05e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48c8935aa8e324232121e0347eac05e5">&#9670;&nbsp;</a></span>renderFieldNow()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename HW , typename LM , uint8_t DIGITS, uint8_t SUBFIELDS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classace__segment_1_1ScanningDisplay.html">ace_segment::ScanningDisplay</a>&lt; HW, LM, DIGITS, SUBFIELDS &gt;::renderFieldNow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Render the current field immediately. </p>
<p>If modulation is off (i.e. SUBFIELDS == 1), then the field corresponds to the single digit. If modulation is enabled (SUBFIELDS &gt; 1), then each digit is PWM modulated over SUBFIELDS number of renderings.</p>
<p>This method is intended to be called directly from a timer interrupt handler. </p>

<p class="definition">Definition at line <a class="el" href="ScanningDisplay_8h_source.html#l00253">253</a> of file <a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>.</p>

</div>
</div>
<a id="a60936c942b1171380fb69fb796082932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60936c942b1171380fb69fb796082932">&#9670;&nbsp;</a></span>renderFieldWhenReady()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename HW , typename LM , uint8_t DIGITS, uint8_t SUBFIELDS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classace__segment_1_1ScanningDisplay.html">ace_segment::ScanningDisplay</a>&lt; HW, LM, DIGITS, SUBFIELDS &gt;::renderFieldWhenReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Display one field of a frame when the time is right. </p>
<p>This is a polling method, so call this slightly more frequently than <a class="el" href="classace__segment_1_1ScanningDisplay.html#aa21e88f28f9544fa6fa9aab13475dd0a" title="Return the fields per second.">getFieldsPerSecond()</a> per second.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if <a class="el" href="classace__segment_1_1ScanningDisplay.html#a48c8935aa8e324232121e0347eac05e5" title="Render the current field immediately.">renderFieldNow()</a> was called and the field was rendered. </dd></dl>

<p class="definition">Definition at line <a class="el" href="ScanningDisplay_8h_source.html#l00232">232</a> of file <a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>.</p>

</div>
</div>
<a id="a7057d9e7cc8dc489fd7d2599441efba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7057d9e7cc8dc489fd7d2599441efba7">&#9670;&nbsp;</a></span>setBrightnessAt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename HW , typename LM , uint8_t DIGITS, uint8_t SUBFIELDS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classace__segment_1_1ScanningDisplay.html">ace_segment::ScanningDisplay</a>&lt; HW, LM, DIGITS, SUBFIELDS &gt;::setBrightnessAt </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>brightness</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>The maximum brightness should is exactly <code>SUBFIELDS</code> which turns on the LED 100% of the time. The minimum brightness is 0, which turns OFF the digit. For example, if <code>SUBFIELDS==16</code>, the the maximum brightness is 16 which turns ON the digit 100% of the time. The relative brightness of each brightness level is in units of 1/SUBFIELDS.</p>
<p>The brightness scale is <em>not</em> normalized to [0,255]. A previous version of this class tried to do that, but I found that this introduced discretization errors which made it difficult to control the brightness at intermediate values. For example, suppose SUBFIELDS=16. If we changed the normalized brightness value from 32 to 40, it was impossible to determine without actually running the program if the 2 values actually differed in brightness. Instead, the calling program is expected to keep track of the value of SUBFIELDS, and create an array of brightness values in these raw units. The side benefit of using raw brightness values is that it makes displayCurrentFieldModulated() easier to implement. </p>

<p>Implements <a class="el" href="classace__segment_1_1LedDisplay.html#ab8cdbdeb458ed2c9ae8d8656ead3e7b8">ace_segment::LedDisplay</a>.</p>

<p class="definition">Definition at line <a class="el" href="ScanningDisplay_8h_source.html#l00186">186</a> of file <a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>.</p>

</div>
</div>
<a id="a51b9707f89d323d481feea9ae94d6029"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51b9707f89d323d481feea9ae94d6029">&#9670;&nbsp;</a></span>setGlobalBrightness()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename HW , typename LM , uint8_t DIGITS, uint8_t SUBFIELDS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classace__segment_1_1ScanningDisplay.html">ace_segment::ScanningDisplay</a>&lt; HW, LM, DIGITS, SUBFIELDS &gt;::setGlobalBrightness </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>brightness</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p></p>
<p>See the documentation for <a class="el" href="classace__segment_1_1ScanningDisplay.html#a7057d9e7cc8dc489fd7d2599441efba7">setBrightnessAt()</a> for information about the range of values of <code>brightness</code> and how it is interpreted. </p>

<p>Implements <a class="el" href="classace__segment_1_1LedDisplay.html#af1a17006b07949cbe859684b235bcb84">ace_segment::LedDisplay</a>.</p>

<p class="definition">Definition at line <a class="el" href="ScanningDisplay_8h_source.html#l00210">210</a> of file <a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>.</p>

</div>
</div>
<a id="acb67a747588d5e77be374e543f5e148a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb67a747588d5e77be374e543f5e148a">&#9670;&nbsp;</a></span>writeDecimalPointAt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename HW , typename LM , uint8_t DIGITS, uint8_t SUBFIELDS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classace__segment_1_1ScanningDisplay.html">ace_segment::ScanningDisplay</a>&lt; HW, LM, DIGITS, SUBFIELDS &gt;::writeDecimalPointAt </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the decimal point for the pos. </p>
<p>Clock LED modules will attach the colon segment to one of the decimal points. </p>

<p>Implements <a class="el" href="classace__segment_1_1LedDisplay.html#a0f339305ac7432fbfb4e38b9599dcaae">ace_segment::LedDisplay</a>.</p>

<p class="definition">Definition at line <a class="el" href="ScanningDisplay_8h_source.html#l00193">193</a> of file <a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>.</p>

</div>
</div>
<a id="a43d69c95d835d9b02c0f7e80064f7fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43d69c95d835d9b02c0f7e80064f7fe2">&#9670;&nbsp;</a></span>writePatternAt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename HW , typename LM , uint8_t DIGITS, uint8_t SUBFIELDS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classace__segment_1_1ScanningDisplay.html">ace_segment::ScanningDisplay</a>&lt; HW, LM, DIGITS, SUBFIELDS &gt;::writePatternAt </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pattern</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the pattern for a given pos. </p>
<p>If the pos is out of bounds, the method does nothing. </p>

<p>Implements <a class="el" href="classace__segment_1_1LedDisplay.html#a7739b860133bab0e924b57ed0c55d0bd">ace_segment::LedDisplay</a>.</p>

<p class="definition">Definition at line <a class="el" href="ScanningDisplay_8h_source.html#l00145">145</a> of file <a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>.</p>

</div>
</div>
<a id="a09d79c60fcd579e24d20d662979bc6d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09d79c60fcd579e24d20d662979bc6d0">&#9670;&nbsp;</a></span>writePatternsAt()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename HW , typename LM , uint8_t DIGITS, uint8_t SUBFIELDS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classace__segment_1_1ScanningDisplay.html">ace_segment::ScanningDisplay</a>&lt; HW, LM, DIGITS, SUBFIELDS &gt;::writePatternsAt </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>patterns</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the array of <code>patterns</code> of length <code>len</code>, starting at <code>pos</code>. </p>
<p>If an element of patterns attempts to write to a digit beyond the last digit of the LED module, nothing happens. </p>

<p>Implements <a class="el" href="classace__segment_1_1LedDisplay.html#a33592c6357d17837836307eb2f88fdf0">ace_segment::LedDisplay</a>.</p>

<p class="definition">Definition at line <a class="el" href="ScanningDisplay_8h_source.html#l00150">150</a> of file <a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>.</p>

</div>
</div>
<a id="a50e3b78e1e8fd020958ee2deb177fef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50e3b78e1e8fd020958ee2deb177fef6">&#9670;&nbsp;</a></span>writePatternsAt_P()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename HW , typename LM , uint8_t DIGITS, uint8_t SUBFIELDS = 1&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classace__segment_1_1ScanningDisplay.html">ace_segment::ScanningDisplay</a>&lt; HW, LM, DIGITS, SUBFIELDS &gt;::writePatternsAt_P </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>patterns</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the array of <code>patterns</code> of length <code>len</code>, which are stored in flash memory through PROGMEM, starting at <code>pos</code>. </p>
<p>If an element of patterns attempts to write to a digit beyond the last digit of the LED module, nothing happens. </p>

<p>Implements <a class="el" href="classace__segment_1_1LedDisplay.html#aaf92e9b380ea432a532b51383c76ffa4">ace_segment::LedDisplay</a>.</p>

<p class="definition">Definition at line <a class="el" href="ScanningDisplay_8h_source.html#l00158">158</a> of file <a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/brian/src/AceSegment/src/ace_segment/<a class="el" href="ScanningDisplay_8h_source.html">ScanningDisplay.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
